import React, { useState, useEffect } from 'react';
import '../css/LoadingSpinner.css';

// ì§€ì—­ë³„ ì •ë³´ ë°ì´í„°
const regionInfo = {
  "ì„œìš¸": [
    "ì„œìš¸ì€ ì¡°ì„ ì‹œëŒ€ë¶€í„° ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ë¡œ, 600ë…„ ì´ìƒì˜ ì—­ì‚¬ë¥¼ ê°€ì§€ê³  ìžˆì–´ìš”.",
    "ê²½ë³µê¶ì€ ì¡°ì„ ì™•ì¡° ì œì¼ì˜ ë²•ê¶ìœ¼ë¡œ, ë¬´ìž¥ì•  ê´€ëžŒì´ ê°€ëŠ¥í•œ êµ¬ê°„ì´ ë§ˆë ¨ë˜ì–´ ìžˆì–´ìš”.",
    "ë‚¨ì‚°íƒ€ì›ŒëŠ” ì„œìš¸ì˜ ìƒì§•ìœ¼ë¡œ, ìž¥ì• ì¸ ì „ìš© ì—˜ë¦¬ë² ì´í„°ê°€ êµ¬ë¹„ë˜ì–´ ìžˆì–´ìš”.",
    "ì„œìš¸ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ì„œìš¸ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ'ë¥¼ ì œê³µí•˜ê³  ìžˆì–´ìš”.",
    "ì¸ì‚¬ë™ì€ ì „í†µë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ë¡œ, ëŒ€ë¶€ë¶„ì˜ ê³¨ëª©ì´ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ìš”."
  ],
  "ë¶€ì‚°": [
    "ë¶€ì‚°ì€ ëŒ€í•œë¯¼êµ­ ì œ2ì˜ ë„ì‹œë¡œ, ì•„ë¦„ë‹¤ìš´ í•´ë³€ê³¼ ì‚°ì´ ì–´ìš°ëŸ¬ì§„ ë„ì‹œì˜ˆìš”.",
    "í•´ìš´ëŒ€ í•´ìˆ˜ìš•ìž¥ì€ ìž¥ì• ì¸ ì „ìš© í•´ë³€ ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ë¶€ì‚°êµ­ì œì˜í™”ì œëŠ” ìž¥ì• ì¸ ê´€ê°ì„ ìœ„í•œ ë°°ë¦¬ì–´í”„ë¦¬ ìƒì˜ê´€ì„ ìš´ì˜í•˜ê³  ìžˆì–´ìš”.",
    "ë¶€ì‚° íƒ€ì›ŒëŠ” ìž¥ì• ì¸ ì „ìš© ì—˜ë¦¬ë² ì´í„°ì™€ íœ ì²´ì–´ ëž¨í”„ê°€ ì„¤ì¹˜ë˜ì–´ ìžˆì–´ìš”.",
    "ë¶€ì‚°ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ë¶€ì‚° ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œë§µ'ì„ ì œê³µí•´ìš”."
  ],
  "ì œì£¼": [
    "ì œì£¼ë„ëŠ” í™”ì‚°ì„¬ìœ¼ë¡œ, ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìžì—°ìœ ì‚°ìœ¼ë¡œ ì§€ì •ëœ ì•„ë¦„ë‹¤ìš´ ì„¬ì´ì—ìš”.",
    "ì„±ì‚°ì¼ì¶œë´‰ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒë¡œê°€ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ì œì£¼ ì˜¬ë ˆê¸¸ ì¤‘ ì¼ë¶€ ì½”ìŠ¤ëŠ” íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ì¡°ì„±ë˜ì–´ ìžˆì–´ìš”.",
    "ì œì£¼ë„ëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ì œì£¼ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ'ë¥¼ ì œê³µí•˜ê³  ìžˆì–´ìš”.",
    "ì œì£¼ êµ­ì œê³µí•­ì€ ìž¥ì• ì¸ ì§€ì› ì„œë¹„ìŠ¤ê°€ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”."
  ],
  "ì¸ì²œ": [
    "ì¸ì²œì€ ëŒ€í•œë¯¼êµ­ì˜ ì„œí•´ì•ˆ ê´€ë¬¸ìœ¼ë¡œ, í˜„ëŒ€ì ì¸ ë„ì‹œì™€ ì—­ì‚¬ê°€ ê³µì¡´í•´ìš”.",
    "ì¸ì²œêµ­ì œê³µí•­ì€ ìž¥ì• ì¸ ì§€ì› ì„œë¹„ìŠ¤ê°€ ì„¸ê³„ì ìœ¼ë¡œ ì¸ì •ë°›ê³  ìžˆì–´ìš”.",
    "ì›”ë¯¸ë„ëŠ” ìž¥ì• ì¸ ì „ìš© ê´€ëžŒ ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì§„ ê´€ê´‘ì§€ì˜ˆìš”.",
    "ì¸ì²œ ì°¨ì´ë‚˜íƒ€ìš´ì€ ëŒ€ë¶€ë¶„ì˜ ê±°ë¦¬ê°€ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ìš”.",
    "ì¸ì²œì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ì¸ì²œ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ'ë¥¼ ì œê³µí•´ìš”."
  ],
  "ëŒ€êµ¬": [
    "ëŒ€êµ¬ëŠ” ëŒ€í•œë¯¼êµ­ì˜ ë‚´ë¥™ ì¤‘ì‹¬ ë„ì‹œë¡œ, ì „í†µì‹œìž¥ê³¼ í˜„ëŒ€ì  ì‹œì„¤ì´ ê³µì¡´í•´ìš”.",
    "ë™ì„±ë¡œëŠ” ìž¥ì• ì¸ íŽ¸ì˜ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì§„ ëŒ€í‘œì ì¸ ìƒê¶Œì´ì—ìš”.",
    "ëŒ€êµ¬íƒ€ì›ŒëŠ” ìž¥ì• ì¸ ì „ìš© ì—˜ë¦¬ë² ì´í„°ì™€ ê´€ëžŒ ì‹œì„¤ì´ êµ¬ë¹„ë˜ì–´ ìžˆì–´ìš”.",
    "ëŒ€êµ¬ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ëŒ€êµ¬ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ'ë¥¼ ì œê³µí•˜ê³  ìžˆì–´ìš”.",
    "ëŒ€êµ¬ ì•½ë ¹ì‹œëŠ” ì „í†µì‹œìž¥ ì¤‘ ìž¥ì• ì¸ íŽ¸ì˜ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì§„ ê³³ì´ì—ìš”."
  ],
  "ì „ì£¼": [
    "ì „ì£¼ëŠ” ì¡°ì„ ì‹œëŒ€ë¶€í„° ì „í†µë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ë¡œ, í•œì˜¥ë§ˆì„ì´ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ë¬¸í™”ìœ ì‚°ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ì€ ëŒ€ë¶€ë¶„ì˜ ê³¨ëª©ì´ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ì¡°ì„±ë˜ì–´ ìžˆì–´ìš”.",
    "ì „ì£¼ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ 'ì „ì£¼ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ'ë¥¼ ì œê³µí•˜ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ ê²½ê¸°ì „ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒë¡œì™€ ì—˜ë¦¬ë² ì´í„°ê°€ êµ¬ë¹„ë˜ì–´ ìžˆì–´ìš”.",
    "ì „ì£¼ ë‚¨ë¶€ì‹œìž¥ì€ ìž¥ì• ì¸ íŽ¸ì˜ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì§„ ëŒ€í‘œì ì¸ ì „í†µì‹œìž¥ì´ì—ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ëŒ€ë¶€ë¶„ì˜ ë¬¸í™”ì‹œì„¤ì€ ìž¥ì• ì¸ ì „ìš© í™”ìž¥ì‹¤ì„ ê°–ì¶”ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ ë¬´ìž¥ì•  ê´€ê´‘ ì½”ìŠ¤ë¥¼ ìš´ì˜í•˜ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ êµ­ë¦½ë¬´í˜•ìœ ì‚°ì›ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒ ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ë§›ì§‘ë“¤ì€ ëŒ€ë¶€ë¶„ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ìš”.",
    "ì „ì£¼ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ ì „ìš© ì£¼ì°¨ìž¥ì„ ì£¼ìš” ê´€ê´‘ì§€ì— ë§ˆë ¨í•´ë‘ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ì „í†µë¬¸í™”ì²´í—˜ê´€ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒë¡œê°€ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ì „ì£¼ í’ë‚¨ë¬¸ ì¼ëŒ€ëŠ” íœ ì²´ì–´ ì ‘ê·¼ì´ ìš©ì´í•˜ë„ë¡ ì¡°ì„±ë˜ì–´ ìžˆì–´ìš”.",
    "ì „ì£¼ ì „í†µë¬¸í™”ê´€ì€ ìž¥ì• ì¸ ì „ìš© ì—˜ë¦¬ë² ì´í„°ì™€ ê´€ëžŒ ì‹œì„¤ì´ êµ¬ë¹„ë˜ì–´ ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ì „í†µì°»ì§‘ë“¤ì€ ëŒ€ë¶€ë¶„ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ìš”.",
    "ì „ì£¼ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ ë¬´ìž¥ì•  ê´€ê´‘ ë²„ìŠ¤ë¥¼ ìš´ì˜í•˜ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ì „í†µê³µì˜ˆê´€ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒ ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ì „ì£¼ ì „í†µì‹œìž¥ì€ ìž¥ì• ì¸ ì „ìš© í™”ìž¥ì‹¤ê³¼ íŽ¸ì˜ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ì „í†µë¬¸í™”ê³µì—°ìž¥ì€ ìž¥ì• ì¸ ì „ìš© ê´€ëžŒì„ì„ ìš´ì˜í•˜ê³  ìžˆì–´ìš”.",
    "ì „ì£¼ì‹œëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ ë¬´ìž¥ì•  ê´€ê´‘ ê°€ì´ë“œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ìš”.",
    "ì „ì£¼ í•œì˜¥ë§ˆì„ ë‚´ ì „í†µë¬¸í™”ì²´í—˜ í”„ë¡œê·¸ëž¨ì€ ìž¥ì• ì¸ ì°¸ì—¬ê°€ ê°€ëŠ¥í•´ìš”."
  ],
  "ê¸°íƒ€": [
    "í•œêµ­ì˜ ì „í†µ ì‹œìž¥ì€ ëŒ€ë¶€ë¶„ ìž¥ì• ì¸ íŽ¸ì˜ì‹œì„¤ì´ ìž˜ ê°–ì¶°ì ¸ ìžˆì–´ìš”.",
    "ëŒ€ë¶€ë¶„ì˜ ê´€ê´‘ì§€ì—ëŠ” ìž¥ì• ì¸ ì „ìš© ì£¼ì°¨ìž¥ì´ ë§ˆë ¨ë˜ì–´ ìžˆì–´ìš”.",
    "í•œêµ­ì˜ ëŒ€ì¤‘êµí†µì€ ìž¥ì• ì¸ ì§€ì› ì„œë¹„ìŠ¤ê°€ ì ì°¨ ê°œì„ ë˜ê³  ìžˆì–´ìš”.",
    "ê´€ê´‘ì§€ì˜ ìž¥ì• ì¸ í™”ìž¥ì‹¤ì€ ëŒ€ë¶€ë¶„ ë¬´ë£Œë¡œ ì´ìš©í•  ìˆ˜ ìžˆì–´ìš”.",
    "í•œêµ­ì˜ ê´€ê´‘ì•ˆë‚´ì†ŒëŠ” ìž¥ì• ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ ì •ë³´ë¥¼ ì œê³µí•˜ê³  ìžˆì–´ìš”."
  ]
};

const LoadingSpinner = ({ message = "ì½”ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìžˆìŠµë‹ˆë‹¤...", region = "ê¸°íƒ€" }) => {
  const [progress, setProgress] = useState(0);
  const [currentTip, setCurrentTip] = useState('');
  const [dots, setDots] = useState('');

  useEffect(() => {
    // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì• ë‹ˆë©”ì´ì…˜
    const progressInterval = setInterval(() => {
      setProgress(prev => {
        if (prev >= 90) {
          clearInterval(progressInterval);
          return 90;
        }
        return prev + 1;
      });
    }, 1000);

    // ë¡œë”© ì  ì• ë‹ˆë©”ì´ì…˜
    const dotsInterval = setInterval(() => {
      setDots(prev => prev.length >= 3 ? '' : prev + '.');
    }, 500);

    // ì§€ì—­ ì •ë³´ ë³€ê²½ (8ì´ˆë§ˆë‹¤ ë³€ê²½)
    const tipInterval = setInterval(() => {
      const tips = regionInfo[region] || regionInfo["ê¸°íƒ€"];
      const randomTip = tips[Math.floor(Math.random() * tips.length)];
      setCurrentTip(randomTip);
    }, 8000);

    // ì´ˆê¸° íŒ ì„¤ì •
    const initialTips = regionInfo[region] || regionInfo["ê¸°íƒ€"];
    setCurrentTip(initialTips[Math.floor(Math.random() * initialTips.length)]);

    return () => {
      clearInterval(progressInterval);
      clearInterval(dotsInterval);
      clearInterval(tipInterval);
    };
  }, [region]);

  return (
    <div className="loading-overlay">
      <div className="loading-spinner">
        <div className="spinner"></div>
        <div className="progress-container">
          <div className="progress-bar" style={{ width: `${progress}%` }}></div>
        </div>
        <p className="loading-message">{message}{dots}</p>
        <div className="tip-container">
          <div className="tip-header">
            <span className="tip-icon">ðŸ’¡</span>
            <span className="tip-title">{region} ì—¬í–‰ ì •ë³´</span>
          </div>
          <div className="tip-content-wrapper">
            <p className="tip-content">{currentTip}</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default LoadingSpinner; 